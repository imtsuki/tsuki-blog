@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --shiki-color-text: #414141;
    --shiki-color-background: transparent;
    --shiki-token-constant: #1976d2;
    --shiki-token-string: #22863a;
    --shiki-token-comment: #aaa;
    --shiki-token-keyword: #d32f2f;
    --shiki-token-parameter: #ff9800;
    --shiki-token-function: #6f42c1;
    --shiki-token-string-expression: #22863a;
    --shiki-token-punctuation: #212121;
    --shiki-token-link: #22863a;

    --annotation-box: green;
    --annotation-circle: crimson;
    --annotation-highlight: rgba(255, 215, 0, 25%);
    --annotation-underline: dodgerblue;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --shiki-color-text: #d1d1d1;
      --shiki-token-constant: #79b8ff;
      --shiki-token-string: #ffab70;
      --shiki-token-comment: #6b737c;
      --shiki-token-keyword: #f97583;
      --shiki-token-parameter: #ff9800;
      --shiki-token-function: #b392f0;
      --shiki-token-string-expression: #4bb74a;
      --shiki-token-punctuation: #bbbbbb;
      --shiki-token-link: #ffab70;
    }
  }

  .prose {
    @apply text-justify;
    /* TODO: use hyphens-auto once tailwind 3.3 is released */
    hyphens: auto;
    /* Safari puts wierd spaces around U+2010 HYPHEN with the current font */
    -webkit-hyphenate-character: '\002D';
  }

  .prose h1 {
    @apply text-start;
  }

  .prose blockquote {
    @apply not-italic;
  }

  .prose blockquote p:first-of-type::before {
    @apply content-none;
  }

  .prose blockquote p:last-of-type::after {
    @apply content-none;
  }

  .prose .katex-html {
    @apply overflow-x-auto overflow-y-hidden;
  }

  .prose .data-footnote-backref {
    @apply font-mono font-normal;
  }
}
